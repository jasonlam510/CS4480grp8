---
description: Enforce distributed cluster simulation with Docker Compose for CS4480grp8.
globs:
  - "docker/**"
  - "docker-compose*.yml"
  - "compose*.yml"
  - ".devcontainer/**"
  - "infra/**"
alwaysApply: false
---

When modifying or generating Docker / Compose / infra files:

- Always maintain a **multi-container distributed setup** that simulates a distributed memory model.
- The cluster must include clearly defined roles such as:
  - HDFS: NameNode + ≥1 DataNode(s)
  - HBase: Master + ≥1 RegionServer(s) (can be co-located with HDFS nodes if needed, but roles must be explicit)
  - YARN: ResourceManager + ≥1 NodeManager(s)
  - Spark: driver + ≥1 executor(s)
- Favor **horizontal scaling**:
  - If you need more performance, suggest scaling the number of executors / worker containers, not just increasing resource limits.
- Do not suggest removing Docker Compose or replacing it with a host-only installation as the primary setup. Host installs can be mentioned only as secondary, dev-only alternatives.
- The environment should be reproducible with a single command like:
  - `docker compose up` (or similar)
- Ensure containers share a network that allows hostname-based resolution (e.g., `namenode`, `datanode1`, `spark-driver`, etc.).
